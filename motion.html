<!DOCTYPE html>
<html lang="en">


<head>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90726203-1', 'auto');
  ga('send', 'pageview');

</script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>RPI Home Security</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/sb-admin.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<style>
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}
</style>

<body>

    <div id="wrapper">

        <!-- Navigation -->
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Home Security with RPI</a><img src="images/pi_logo3.png" height="40" width="26">
            </div>
            <!-- Sidebar Menu Items - These collapse to the responsive navigation menu on small screens -->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav side-nav">
                    <li>
                        <a href="javascript:;" data-toggle="collapse" data-target="#demo"><img src="images/pi_box.png" height="18" width="24"/></i> Before You Begin<i class="fa fa-fw fa-caret-down"></i></a>
                        <ul id="demo" class="collapse">
                            <li class="active">
                                <a href="index.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> Introduction</a>
                            </li>   
                            <li class="active">
                                <a href="features.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> Features</a>
                            </li>  							
                            <li class="active">
                                <a href="hardware.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> Hardware required</a>
                            </li>  							
                            <li class="active">
                                <a href="software.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> Software required</a>
                            </li> 						
                        </ul>
                    </li>
                    <li>
                        <a href="javascript:;" data-toggle="collapse" data-target="#demo1"><img src="images/pi_box.png" height="18" width="24"/></i> Getting Started<i class="fa fa-fw fa-caret-down"></i></a>
                        <ul id="demo1" class="collapse">
                            <li class="active">
                                <a href="download.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> Download the files</a>
                            </li> 							
                            <li class="active">
                                <a href="started.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> Basic information</a>
                            </li>                                                            
                            <li class="active">
                                <a href="rfcodes.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> RF Codes</a>
                            </li>                           
                            <li class="active">
                                <a href="permissions.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> File permissions</a>
                            </li>        
                            <li class="active">
                                <a href="phone.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i>Linking to smart phone</a>
                            </li>   							
                        </ul>
                    </li>       
                    <li>
                        <a href="javascript:;" data-toggle="collapse" data-target="#demo2"><img src="images/pi_box.png" height="18" width="24"/></i> Further customization<i class="fa fa-fw fa-caret-down"></i></a>
                        <ul id="demo2" class="collapse">
                            <li class="active">
                                <a href="motion.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> Motion software</a>
                            </li>  
                            <li class="active">
                                <a href="multiple.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> Multiple cameras</a>
                            </li>                              
                            <li class="active">
                                <a href="sound.html"><img src="images/pi_logo.png" height="17.7" width="15"/></i> Miscellaneous</a>
                            </li>                                                            
                        </ul>
                    </li>      
                    <li>
                        <a href="javascript:;" data-toggle="collapse" data-target="#demo3"><img src="images/pi_box.png" height="18" width="24"/></i> Questions / Feedback?<i class="fa fa-fw fa-caret-down"></i></a>
                        <ul id="demo3" class="collapse">
                            <li class="active">
								<a href="https://groups.google.com/forum/#!forum/raspberry-pi-home-security-system"><img src="images/pi_logo.png" height="17.7" width="15"/> Visit the forum</a>
                            </li>  
  						</ul>	
                    </li>  
 
                    <li>
                        <a href="javascript:;" data-toggle="collapse" data-target="#demo4"><img src="images/pi_box.png" height="18" width="24"/></i> Donate / Contact<i class="fa fa-fw fa-caret-down"></i></a>
                        <ul id="demo4" class="collapse">
                            <li class="active">
								<a href="donate.html"><img src="images/pi_logo.png" height="17.7" width="15"/> Donate with Paypal</a>
                            </li>   
                            <li class="active">
								<a href="contact.html"><img src="images/pi_logo.png" height="17.7" width="15"/> Contact</a>
                            </li>  								
						</ul>	
                    </li> 		
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </nav>

        <div id="page-wrapper">

            <div class="container-fluid">

                <!-- Page Heading -->
                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header">
                            Motion Software
                        </h1>
                        <ol class="breadcrumb">
                            <li>
                                <img src="images/pi_logo1.png" height="17.7" width="15"/> <a href="multiple.html">Next: Multiple Cameras</a>
                            </li>
                            <li>
                                <img src="images/pi_logo4.png" height="17.7" width="15"/>  <a href="phone.html">Previous: File Linking to Smart Phone</a>
                            </li>                            
                            <li class="active">
                                <img src="images/pi_logo.png" height="17.7" width="15"/></i> Motion Software
                            </li>
                        </ol>

						<img src="images/pi_big2.png" style="width:400px;height:267px" ALIGN="right">
						You can further customize the parameters for the motion software by editing the file called <i>motion-mmalcam.conf</i>.
						One field that is important to point out is the <i>threshold</i> input; 
						if you have pets, you can set a threshold of the minimum number of pixels that need to change from frame to frame in order to 
						initiate a new motion event. In order to improve framerate and effiency, the version of motion included in this tutorial
						uses low resolution images 
						(320x180 pixels by default) to detect motion, and then upscales the final images by 
						a factor of <i>mmalcam_secondary_buffer_upscale</i>. There are a total of 57600 pixels in the low-resolution 
						motion capture; thus, an object of 560 pixels would occupy less than 1% of the entire screen, which nicely 
						filters out my own cats' motion.<br><br>
						
						That being said, please note that the motion software here is customized to increase 
						the FPS of the video, as the default version of motion only offers a maximum of 2 FPS. In particular, the option 
						<i>ffmpeg_output_movies</i> must
						be set to 'off' in order to preserve FPS. To accomodate to this limitation, the series of motion images that 
						are captured are manually converted to a video file after the motion event has ended, which takes a little more time than in the original motion software. 
						Really, you should be careful modifying most commands in this file as they are specific to this modified motion software.
						For more information on this modded motion software, please see <a href="https://www.raspberrypi.org/forums/viewtopic.php?p=538398"> this 
						forum </a>.
						<br><br>Note that changes are not actually made until the software is restarted with <pre>sudo python reboot.py</pre><br>
										
						
                    </div>
                </div>
                <!-- /.row -->

            </div>
            <!-- /.container-fluid -->

        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>
